<!DOCTYPE html>
<html>

    <head>
        <base target="_top">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <title>A Map of Independent Booksellers and nearby Cafés</title>
        
        <link rel="icon" type="image/png" href="../favicon.ico">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

        <style>
            html, body {
                height: 100%;
                margin: 0;
            }
            .leaflet-container {
                height: 400px;
                width: 600px;
                max-width: 100%;
                max-height: 100%;
            }
            #map
            {
                width: 100vw;
                height: 100vh;
            }
        </style>

        <!--
        Thanks to https://github.com/pointhi/leaflet-color-markers for the beautiful markers.
        -->

        <meta property="og:title"        content="A Map of Independent Booksellers and nearby Cafés" />
        <meta property="og:description"  content="The map centers on your location and shows nearby independent bookshops and cafés where one can sit with a book.">
        <meta property="og:image"        content="meta.png" />
        <meta property="og:url"          content="https://buchladenumdieecke.de" />
        <meta property="og:type"         content="website" />
        
        <meta name="twitter:title"       content="A Map of Independent Booksellers and nearby Cafés">
        <meta name="twitter:description" content="The map centers on your location and shows nearby independent bookshops and cafés where one can sit with a book.">
        <meta name="twitter:image"       content="meta.png">
        <meta name="twitter:card"        content="summary_large_image">

    </head>

    <body>

        <div id="map"></div>

        <script>

            // const map = L.map('map').setView([49.87772102994678, 8.658690941103313], 13);

            const map = L.map('map').locate({setView: true, maxZoom: 17});
            
            // setView([49.87772102994678, 8.658690941103313], 13);

            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> | Have feedback? Visit <a href="https://ijverlag.de/a-map-of-independent-booksellers-and-nearby-cafes">A Map of Independent Booksellers and nearby Cafés</a>.'
            }).addTo(map);

            // Bookshop
            var goldIcon = new L.Icon({
            iconUrl: './markers/gold.png',
            shadowUrl: './markers/shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
            });

            // Café
            var blackIcon = new L.Icon({
            iconUrl: './markers/black.png',
            shadowUrl: './markers/shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
            });

            // Bookshops and Cafés
            const bookshops_and_cafes = [

            // DEUTSCHLAND
            // BENSHEIM

            {
              "name": "Buchhandlung Nuss",
              "lat": 49.699901951198186,
              "lng": 8.622301081959852,
              "address": "Darmstädter Str. 159, 64625 Bensheim",
              "website": "https://buchhandlung-nuss.buchkatalog.de",
              "icon": "goldIcon"
            },
            
            // DEUTSCHLAND
            // DARMSTADT

            {
              "name": "Bessunger Buchladen",
              "lat": 49.85888505316302,
              "lng": 8.646698489958522,
              "address": "Heidelberger Straße 81B, 64285 Darmstadt",
              "website": "https://www.bessunger-buchladen.de",
              "icon": "goldIcon"
            },

            {
              "name": "Café Linie 3",
              "lat": 49.857744222441646,
              "lng": 8.650969279601574,
              "address": "Ludwigshöhstraße 1A, 64285 Darmstadt",
              "website": "https://www.instagram.com/cafelinie3/",
              "icon": "blackIcon"
            },

            {
              "name": "Buchhandlung am Markt",
              "lat": 49.872339225002804,
              "lng": 8.656098318854744,
              "address": "Marktplatz 10, 64283 Darmstadt",
              "website": "https://www.genialokal.de/buchhandlung/darmstadt/buch-am-markt/",
              "icon": "goldIcon"
            },

            {
              "name": "Georg Büchner Buchladen",
              "lat": 49.87772102994678,
              "lng": 8.658690941103313,
              "address": "Lauteschlägerstraße 18, 64289 Darmstadt",
              "website": "https://www.georg-buechner-buchladen.de",
              "icon": "goldIcon"
            },

            {
              "name": "bluebee cafe",
              "lat": 49.87791068888482,
              "lng": 8.659559597401397,
              "address": "Lauteschlägerstraße 28, 64289 Darmstadt",
              "website": "https://www.bluebee.cafe",
              "icon": "blackIcon"
            },

            {
              "name": "Buchhandlung Lesezeichen Darmstadt",
              "lat": 49.88164221897697,
              "lng": 8.660268473610591,
              "address": "Heinheimer Str. 82, 64289 Darmstadt",
              "website": "https://lesezeichen-darmstadt.buchhandlung.de/",
              "icon": "goldIcon"
            },
            {
              "name": "3klang",
              "lat": 49.880685865744425,
              "lng": 8.66128312568645,
              "address": "Riegerpl. 3, 64289 Darmstadt",
              "website": "https://www.3klang-bar.de",
              "icon": "blackIcon"
            },

            // DEUTSCHLAND
            // HESSEN
            // BERGSTRAßE
            // ZWINGENBERG

            {
              "name": "Lichtblick Buchhandlung",
              "lat": 49.71741201358476,
              "lng": 8.613721567873357,
              "address": "Heidelberger Str. 36, 64673 Zwingenberg, Bergstraße",
              "website": "https://www.schirner.com/buchhandlungen/partner/deutschland/lichtblick-buchhandlung.html",
              "icon": "goldIcon"
            },

            // ÖSTERREICH
            // WIEN
            {
              "name": "Bücher am Spitz",
              "lat": 48.258105905169415,
              "lng": 16.39719493449632,
              "address": "Am Spitz 1, 1210 Wien",
              "website": "https://www.buecheramspitz.com",
              "icon": "goldIcon"
            },

            // UK
            // ENGLAND
            // BATH
            {
              "name": "Topping & Company Booksellers of Bath",
              "lat": 51.38099432728279,
              "lng": -2.3583419391477802,
              "address": "York St, Bath BA1 1NG, United Kingdom",
              "website": "https://www.toppingbooks.co.uk/",
              "icon": "goldIcon"
            },

            // UK
            // ENGLAND
            // ELY
            {
              "name": "Topping & Company Booksellers of Ely",
              "lat": 52.39958574811215,
              "lng": 0.2633266616030511,
              "address": "9 High St, ELY CB7 4LJ, United Kingdom",
              "website": "https://www.toppingbooks.co.uk",
              "icon": "goldIcon"
            }
          ];

          // Create the Markers

          bookshops_and_cafes.forEach(store => {
            
            const icon = store.icon === 'goldIcon' ? goldIcon : blackIcon;
      
            L.marker([store.lat, store.lng], { icon: icon })
             .addTo(map)
             .bindPopup(`<b>${store.name}</b><br>${store.address}<br><a href="${store.website}">www</a>`);

          });

        </script>

    </body>

</html>